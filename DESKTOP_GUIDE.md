# デスクトップアプリ ユーザーガイド

AI Story Builderのデスクトップアプリケーションの使い方を詳しく説明します。

> **⚠️ 重要なご注意**
> 
> このアプリケーションはAI技術を活用した開発手法（AI協働開発）により作成されています。そのため、制作者が意図しない挙動や仕様が生じる可能性がございます。ご利用の際は、予期せぬ動作が発生する場合があることをご理解いただき、ご容赦ください。

## 📋 目次

- [ダウンロードとインストール](#ダウンロードとインストール)
- [初回起動とセットアップ](#初回起動とセットアップ)
- [基本的な使い方](#基本的な使い方)
- [AI機能の設定](#ai機能の設定)
- [データの管理](#データの管理)
- [トラブルシューティング](#トラブルシューティング)
- [よくある質問](#よくある質問)

## ダウンロードとインストール

### 1. アプリケーションのダウンロード

1. [GitHubリリースページ](https://github.com/bookendless/aistorybuilder/releases)にアクセス
2. 最新バージョンのリリースを選択


#### Windows
- `ai-story-builder_*_x64_en-US.msi` - インストーラー版（推奨）
- `ai-story-builder_*_x64-setup.exe` - セットアップ版

### 2. インストール

#### Windows
1. ダウンロードしたファイルを実行
2. セキュリティ警告が表示された場合は「詳細情報」→「実行」を選択
3. インストールウィザードに従って進行
4. 完了後、スタートメニューから起動可能


## 初回起動とセットアップ

### 1. アプリケーションの起動

初回起動時は以下の手順でセットアップを行います：

1. **起動画面**: アプリケーションのロゴとバージョン情報が表示
2. **ライセンス同意**: 利用規約を確認し、同意
4. **メイン画面**: セットアップ完了

### 2. 基本設定

#### 言語設定
- 日本語（推奨）

#### テーマ設定
- **ライトモード**: 明るい背景色
- **ダークモード**: 暗い背景色（推奨）

## 基本的な使い方

### 1. ホーム画面

アプリケーション起動後のメイン画面です：

#### プロジェクト管理
- **新しいプロジェクト**: 新規プロジェクトの作成

### 2. プロジェクトの作成

#### ステップ1: 基本情報
1. 「新しいプロジェクト」をクリック
2. プロジェクト情報を入力：
   - **プロジェクト名**: 作品のタイトル
   - **テーマ**: 作品のテーマ（例：友情、恋愛、冒険）
   - **メインジャンル**: ファンタジー、SF、ミステリー等
   - **サブジャンル**: ロマンス、アクション、コメディ等
   - **ターゲット読者**: 10代、20代、30代以上、全年齢

#### ステップ2: キャラクター設定
- **手動作成**: キャラクター情報を手動で入力
- **AI支援**: AIがキャラクターを自動生成

#### ステップ3: プロット構築
- **構造選択**: 起承転結、三幕構成等
- **AI提案**: AIがプロットを自動生成
- **手動編集**: 生成されたプロットを編集

#### ステップ4: あらすじ作成
- **AI生成**: 設定情報からあらすじを自動生成
- **手動編集**: 生成されたあらすじを調整

#### ステップ5: 章立て構成
- **自動生成**: あらすじに基づいて章構成を生成
- **手動調整**: 章の追加、削除、順序変更

#### ステップ6: 執筆支援
- **章選択**: 執筆する章を選択
- **AI支援**: AIが執筆をサポート
- **手動編集**: 生成された文章を編集
- **文体調整**: 文体と語調の設定

### 3. データの保存

#### 自動保存
- 作業内容は自動的に保存されます
- 保存間隔は設定で変更可能（デフォルト：180秒）

#### 手動保存
- メニューバー > 保存

#### バックアップ
- 定期的なバックアップファイルの作成

## AI機能の設定

### 1. ローカルAIの設定

#### LM Studioを使用する場合
1. [LM Studio](https://lmstudio.ai/)をダウンロード・インストール
2. 推奨モデルをダウンロード：
   - **Llama 3.1 8B**: バランス型、8GB RAM
   - **Mistral 7B**: 軽量で高性能
   - **Qwen2 7B**: 多言語対応
3. LM StudioでAPIサーバーを起動
4. AI Story Builderの設定で接続確認

#### Ollamaを使用する場合
```bash
# Ollamaをインストール
curl -fsSL https://ollama.ai/install.sh | sh

# モデルをダウンロード
ollama pull llama3.1:8b

# サーバーを起動
ollama serve
```

### 2. クラウドAIの設定

#### OpenAI API
1. [OpenAI Platform](https://platform.openai.com/)でAPIキーを取得
2. アプリケーションの設定 > AI設定 > OpenAI
3. APIキーを入力
4. モデルを選択（GPT-4推奨）

#### Claude API
1. [Anthropic Console](https://console.anthropic.com/)でAPIキーを取得
2. アプリケーションの設定 > AI設定 > Claude
3. APIキーを入力
4. モデルを選択（Claude 3.5 Sonnet推奨）

#### Gemini API
1. [Google AI Studio](https://aistudio.google.com/)でAPIキーを取得
2. アプリケーションの設定 > AI設定 > Gemini
3. APIキーを入力

### 3. AI機能の使い分け

#### ローカルAI（推奨用途）
- キャラクター生成
- プロット構築
- 基本的な執筆支援
- オフライン利用

#### クラウドAI（推奨用途）
- 高度な草案生成
- 詳細な文章作成
- 文体の改善
- 物語の推敲

## データの管理

### 1. プロジェクトデータ

#### 保存場所
- **Windows**: `%USERPROFILE%\AppData\Roaming\AI Story Builder\projects\`

#### データ形式
- **プロジェクトファイル**: `.json` (JSON形式)
- **バックアップファイル**: `.asb.bak`
- **エクスポートファイル**: `.txt`, `.md`, `.html`

### 2. データのエクスポート

#### テキスト形式
- プレーンテキストで出力
- 文字エンコーディング: UTF-8
- 改行コード: OS標準

#### Markdown形式
- Markdown記法で出力
- 章見出し、強調表示等を保持
- 他のMarkdownエディタで編集可能

#### html形式
- 印刷用レイアウトでの出力
- フォント、余白等の最適化

### 3. データのインポート

#### 既存プロジェクト
- `.json`ファイルを読み込み
- プロジェクト一覧に追加
- 既存データ差し替え・上書き保存

#### テキストファイル
- `.txt`, `.md`ファイルを読み込み
- 新しいプロジェクトとして作成
- 章構成を自動認識

### 4. バックアップと復元

#### 自動バックアップ
- 定期的なバックアップファイル作成
- 設定で間隔を変更可能
- 古いバックアップの自動削除

#### 手動バックアップ
- メニューバー > ファイル > バックアップ作成
- 任意の場所に保存
- 復元時はバックアップファイルを選択

## トラブルシューティング

### 1. 起動に関する問題

#### アプリケーションが起動しない
**原因と解決方法:**
- **セキュリティソフトのブロック**: セキュリティソフトで許可設定
- **権限不足**: 管理者権限で実行
- **破損ファイル**: 再ダウンロード・再インストール
- **依存関係不足**: システム要件の確認

#### 初回起動が遅い
**原因と解決方法:**
- **初回セットアップ**: 正常な動作、数分で完了
- **ウイルススキャン**: セキュリティソフトのスキャン待機
- **システムリソース**: 他のアプリケーションを終了

### 2. AI機能に関する問題

#### ローカルAIに接続できない
**原因と解決方法:**
- **サーバー未起動**: LM Studio/Ollamaの起動確認
- **ポート番号**: デフォルトポート（1234/11434）の確認
- **ファイアウォール**: ローカル接続の許可設定
- **モデル未ロード**: モデルのダウンロード・ロード確認

#### クラウドAIが応答しない
**原因と解決方法:**
- **APIキー**: 正しいAPIキーが設定されているか確認
- **インターネット接続**: ネットワーク接続の確認
- **API制限**: 使用量制限に達していないか確認
- **モデル選択**: 利用可能なモデルを選択

#### 応答が遅い
**原因と解決方法:**
- **ローカルAI**: より軽量なモデルを使用
- **クラウドAI**: ネットワーク状況の確認
- **プロンプト長**: プロンプトを簡潔に
- **システムリソース**: 他のアプリケーションを終了

### 3. データに関する問題

#### データが保存されない
**原因と解決方法:**
- **権限不足**: 保存先フォルダの書き込み権限確認
- **ディスク容量**: 十分な空き容量があるか確認
- **ファイルロック**: 他のアプリケーションがファイルを使用していないか確認
- **破損**: バックアップからの復元

#### データが消失した
**原因と解決方法:**
- **バックアップ確認**: 自動バックアップファイルの確認
- **一時ファイル**: 一時保存ファイルの確認
- **復元機能**: アプリケーションの復元機能を使用
- **サポート**: 技術サポートへの問い合わせ

### 4. パフォーマンスに関する問題

#### 動作が重い
**原因と解決方法:**
- **メモリ不足**: システムメモリの確認・増設
- **CPU使用率**: 他のアプリケーションを終了
- **ディスクI/O**: SSDの使用を推奨
- **設定調整**: パフォーマンス設定の調整

#### フリーズする
**原因と解決方法:**
- **メモリ不足**: システムリソースの確認
- **無限ループ**: アプリケーションの再起動
- **破損データ**: プロジェクトファイルの修復
- **バグ**: 最新版への更新

## よくある質問

### Q: 複数のプロジェクトを同時に開けますか？

A: 現在のバージョンでは1つのプロジェクトのみ開くことができます。複数のプロジェクトを管理する場合は、プロジェクト一覧から切り替えて使用してください。

### Q: 他の小説作成ツールからの移行は可能ですか？

A: テキスト形式（.txt, .md）でのインポートに対応しています。他のツールからエクスポートしたファイルを読み込んで、新しいプロジェクトとして作成できます。

### Q: クラウドAIの使用料金は？

A: クラウドAIの使用料金は各サービス提供者の料金体系に従います。アプリケーション自体は無料ですが、クラウドAIを使用する場合は別途料金が発生します。

### Q: ローカルAIだけで全ての機能を使用できますか？

A: 基本的な機能（キャラクター生成、プロット構築等）はローカルAIで十分です。高度な処理（草案執筆、詳細な文章作成等）にはクラウドAIの使用を推奨します。

### Q: データのバックアップは自動で行われますか？

A: はい、定期的な自動バックアップが行われます。手動でのバックアップ作成も可能です。

### Q: アプリケーションの更新はどうすればいいですか？

A: 新しいバージョンがリリースされた場合は、GitHubのリリースページから最新版をダウンロードしてインストールしてください。データは保持されます。

### Q: サポートはどこで受けられますか？

A: 以下の方法でサポートを受けられます：
- [GitHub Issues](https://github.com/bookendless/aistorybuilder/issues): バグ報告、機能要望
- [GitHub Discussions](https://github.com/bookendless/aistorybuilder/discussions): 使用方法の質問、コミュニティ
- ドキュメント: このガイド、README.md、USER_GUIDE.md

---

**AI Story Builder で、あなたの創造性を解き放ちましょう！**

[![Star](https://img.shields.io/github/stars/bookendless/aistorybuilder?style=social)](https://github.com/bookendless/aistorybuilder)
[![Fork](https://img.shields.io/github/forks/bookendless/aistorybuilder?style=social)](https://github.com/bookendless/aistorybuilder/fork)
