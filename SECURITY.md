# セキュリティポリシー

## サポートされているバージョン

現在、以下のバージョンがセキュリティアップデートの対象です：

| バージョン | サポート状況 |
| ---------- | ------------ |
| 1.0.x      | ✅ サポート中 |
| 0.9.x      | ❌ サポート終了 |
| < 0.9.0    | ❌ サポート終了 |

## 脆弱性の報告

セキュリティ脆弱性を発見した場合は、以下の手順に従って報告してください：

### 報告方法

1. **プライベートで報告**: 公開のIssueやDiscussionではなく、以下の方法で報告してください
2. **メール**: security@your-domain.com（設定されている場合）
3. **GitHub Security Advisory**: リポジトリの「Security」タブから「Report a vulnerability」をクリック

### 報告に含める情報

- 脆弱性の詳細な説明
- 再現手順
- 影響範囲の評価
- 修正案の提案（任意）

### 対応プロセス

1. **確認**: 報告を受領後、48時間以内に確認の連絡をします
2. **調査**: 脆弱性の詳細を調査し、影響範囲を評価します
3. **修正**: 必要に応じて修正パッチを作成します
4. **公開**: 修正版をリリースし、脆弱性の詳細を公開します

## セキュリティ機能

### 実装済みのセキュリティ対策

- **APIキー暗号化**: ローカルストレージに保存されるAPIキーは暗号化されます
- **入力値サニタイゼーション**: XSS、SQLインジェクション、コマンドインジェクション対策
- **レート制限**: 不正なリクエストを防ぐレート制限機能
- **セッション管理**: 安全なセッション管理とタイムアウト
- **CSP**: Content Security PolicyによるXSS対策
- **HTTPS**: 本番環境ではHTTPS必須

### セキュリティヘッダー

以下のセキュリティヘッダーが設定されています：

- `X-Content-Type-Options: nosniff`
- `X-Frame-Options: DENY`
- `X-XSS-Protection: 1; mode=block`
- `Referrer-Policy: strict-origin-when-cross-origin`
- `Content-Security-Policy`: カスタムCSP

## データプライバシー

### 収集されるデータ

- **APIキー**: 暗号化してローカルストレージに保存
- **プロジェクトデータ**: ローカルデータベース（Dexie）に保存
- **設定情報**: ローカルストレージに保存

### データの送信

- **AI API**: プロンプトと生成されたコンテンツのみ送信
- **分析**: 匿名化された使用統計（オプション）
- **ログ**: エラーログのみ送信（個人情報は含まない）

### データの保存

- すべてのデータはローカルに保存されます
- クラウドへの自動アップロードはありません
- ユーザーが明示的にエクスポートした場合のみ外部に送信されます

## セキュリティのベストプラクティス

### 開発者向け

- 依存関係を定期的に更新
- セキュリティスキャンを実行
- コードレビューでセキュリティを確認
- 機密情報をコミットしない

### ユーザー向け

- 強力なAPIキーを使用
- 定期的にAPIキーを更新
- 信頼できないソースからアプリをダウンロードしない
- 最新バージョンを使用

## 脆弱性の公開

### 公開タイミング

- 修正版がリリースされた後
- 重大な脆弱性の場合は即座に公開
- 軽微な脆弱性の場合は次の定期リリースで公開

### 公開内容

- 脆弱性の概要
- 影響範囲
- 修正方法
- アップデートの推奨

## 連絡先

セキュリティに関する質問や懸念がある場合は、以下までお問い合わせください：

- **Email**: security@your-domain.com
- **GitHub**: [Security Advisory](https://github.com/your-username/ai-story-builder/security/advisories)

## 謝辞

セキュリティ脆弱性を報告していただいた方々に感謝いたします。あなたの貢献により、プロジェクトの安全性が向上しています。

---

**注意**: このセキュリティポリシーは定期的に見直され、必要に応じて更新されます。
