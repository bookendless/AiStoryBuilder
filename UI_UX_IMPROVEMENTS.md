# UI/UX改善提案書

## 概要
AI Story Builderのユーザビリティ向上を目的とした、UI/UXの問題点と改善提案をまとめました。各提案には効果と優先度を付与しています。

---

## 改善提案一覧（優先度順）

### 1. 【最優先】ワークフロー進捗の視覚的フィードバック強化
**優先度**: ⭐⭐⭐⭐⭐ (最高)  
**効果**: ⭐⭐⭐⭐⭐ (非常に高い)

#### 問題点
- サイドバーのステップに完了状態の表示がない（`isCompleted = false` がハードコードされている）
- ユーザーがどのステップを完了したか、次に何をすべきかが分かりにくい
- プロジェクト進捗がホームページでは表示されるが、作業中には見えない

#### 改善案
- **サイドバーの各ステップに完了状態を表示**
  - 完了済みステップにはチェックマークアイコンを表示
  - 進捗率を各ステップに表示（例: "キャラクター 3/5完了"）
  - 現在のステップと完了済みステップを色分け
- **プロジェクト全体の進捗バーをヘッダーに追加**
  - 常に表示される進捗インジケーター
  - クリックで詳細な進捗情報を表示
- **次のステップへの推奨表示**
  - 現在のステップが完了したら、次のステップへの案内を表示

#### 実装箇所
- `src/components/Sidebar.tsx` - 進捗状態の取得と表示
- `src/contexts/ProjectContext.tsx` - 進捗計算ロジック
- `src/components/Header.tsx` - 進捗バーの追加

#### 期待される効果
- ユーザーが迷わずに次のステップに進める
- 作業の達成感が向上
- 未完了項目が明確になり、漏れを防げる

---

### 2. 【高優先度】エラーハンドリングとフィードバックの改善
**優先度**: ⭐⭐⭐⭐ (高)  
**効果**: ⭐⭐⭐⭐⭐ (非常に高い)

#### 問題点
- AI生成中のエラー表示が不十分
- 保存失敗時のフィードバックが限定的（`alert()`のみ）
- ネットワークエラー時のリトライ機能がない
- フォーム入力エラーの視覚的フィードバックが弱い

#### 改善案
- **統一されたトースト通知システムの強化**
  - 成功/警告/エラーの種類を色分け
  - 自動的に消える時間を調整可能に
  - アクションボタン付きトースト（例: "再試行"ボタン）
- **AI生成エラーの詳細表示**
  - エラーの種類（APIキー不足、レート制限、タイムアウトなど）を明確に表示
  - 解決方法のヒントを表示
- **オフライン状態の検知と通知**
  - オフライン時の明確な警告表示
  - オフラインで使用可能な機能と不可な機能を明示

#### 実装箇所
- `src/components/Toast.tsx` - トーストシステムの拡張
- 各AI生成処理 - エラーハンドリングの統一
- `src/utils/performanceUtils.ts` - オフライン検知の活用

#### 期待される効果
- ユーザーの混乱を減らす
- 問題解決までの時間を短縮
- アプリの信頼性向上

---

### 3. 【高優先度】キーボードショートカットの充実
**優先度**: ⭐⭐⭐⭐ (高)  
**効果**: ⭐⭐⭐⭐ (高い)

#### 問題点
- キーボードショートカットが限定的
- ショートカット一覧を表示する機能がない
- 頻繁に使用する操作（保存、AI生成、モーダル開閉など）にショートカットがない

#### 改善案
- **主要操作のショートカット追加**
  - `Ctrl+S` / `Cmd+S`: 手動保存
  - `Ctrl+/` / `Cmd+/`: ショートカット一覧を表示
  - `Ctrl+K` / `Cmd+K`: クイックアクションメニュー
  - `Esc`: モーダル/サイドバーを閉じる
  - `Ctrl+B` / `Cmd+B`: サイドバーの折りたたみ/展開
- **ショートカット一覧モーダル**
  - `?`キーまたはヘルプメニューからアクセス可能
  - カテゴリ別に整理された一覧表示
- **コンテキスト依存のショートカット**
  - エディタ内: `Ctrl+Enter`でAI生成
  - プロジェクト一覧: `Ctrl+N`で新規作成

#### 実装箇所
- `src/hooks/useKeyboardNavigation.ts` - 既存フックの拡張
- 新規: `src/components/ShortcutHelpModal.tsx`
- 各主要コンポーネント - ショートカットハンドラーの追加

#### 期待される効果
- 作業効率の大幅な向上
- マウス操作の削減による疲労軽減
- 上級ユーザーの満足度向上

---

### 4. 【高優先度】モバイル/タブレット対応の改善
**優先度**: ⭐⭐⭐⭐ (高)  
**効果**: ⭐⭐⭐⭐ (高い)

#### 問題点
- サイドバーが固定幅で、小さい画面では操作しにくい
- タッチ操作への最適化が不十分
- モーダルが画面サイズに応じて適切に調整されない場合がある

#### 改善案
- **レスポンシブデザインの強化**
  - 小さい画面ではサイドバーを自動的に折りたたむ
  - モバイルではドロワーメニューに変更
  - タッチターゲットのサイズを44px以上に確保
- **スワイプジェスチャーの追加**
  - 左から右にスワイプでサイドバーを開く
  - 右から左にスワイプでツールサイドバーを開く
- **モバイル向けのレイアウト最適化**
  - エディタの縦書きモードをモバイルでも快適に使用可能に
  - フォントサイズの自動調整

#### 実装箇所
- `tailwind.config.js` - ブレークポイントの調整
- `src/components/Sidebar.tsx` - レスポンシブ対応
- `src/components/ToolsSidebar.tsx` - レスポンシブ対応
- 新規: `src/hooks/useSwipeGesture.ts`

#### 期待される効果
- タブレットでの執筆体験の向上
- より多くのデバイスで快適に使用可能
- ユーザーベースの拡大

---

### 5. 【中優先度】検索とフィルタリング機能の強化
**優先度**: ⭐⭐⭐ (中)  
**効果**: ⭐⭐⭐⭐ (高い)

#### 問題点
- プロジェクト一覧の検索はあるが、他の場所（キャラクター、用語集など）での検索が限定的
- グローバル検索機能がない
- フィルタリングオプションが少ない

#### 改善案
- **グローバル検索機能の追加**
  - ヘッダーに検索バーを追加
  - プロジェクト全体（キャラクター、用語集、本文など）を横断検索
  - 検索結果をカテゴリ別に表示
- **高度なフィルタリング**
  - プロジェクト一覧: 複数ジャンルでの絞り込み
  - キャラクター一覧: 役割、関係性でのフィルタ
  - 用語集: カテゴリ、タグでのフィルタ
- **検索履歴とお気に入り**
  - よく検索する項目を保存
  - 最近の検索履歴を表示

#### 実装箇所
- 新規: `src/components/GlobalSearch.tsx`
- `src/components/HomePage.tsx` - 検索機能の拡張
- `src/components/tools/GlossaryManager.tsx` - 検索機能の追加

#### 期待される効果
- 大規模プロジェクトでの情報検索が容易に
- 作業効率の向上
- ユーザーのストレス軽減

---

### 6. 【中優先度】オンボーディングとチュートリアルの追加
**優先度**: ⭐⭐⭐ (中)  
**効果**: ⭐⭐⭐⭐ (高い)

#### 問題点
- 初回ユーザー向けのガイダンスがない
- 各機能の使い方が分かりにくい
- ツールチップやヘルプが限定的

#### 改善案
- **初回起動時のオンボーディング**
  - ステップバイステップのチュートリアル
  - 主要機能の紹介
  - スキップ可能な設計
- **コンテキストヘルプの追加**
  - 各画面に「?」アイコンを配置
  - クリックでその画面のヘルプを表示
  - 動画やスクリーンショット付きの説明
- **インタラクティブなツールチップ**
  - 初回使用時に機能の説明を表示
  - 「次回から表示しない」オプション

#### 実装箇所
- 新規: `src/components/Onboarding.tsx`
- 新規: `src/components/ContextHelp.tsx`
- 新規: `src/components/Tooltip.tsx`（拡張版）

#### 期待される効果
- 新規ユーザーの離脱率低下
- 機能の利用率向上
- サポート問い合わせの減少

---

### 7. 【中優先度】ドラッグ&ドロップ機能の追加
**優先度**: ⭐⭐⭐ (中)  
**効果**: ⭐⭐⭐ (中程度)

#### 問題点
- キャラクターや章の順序変更が手動入力のみ
- 画像のアップロードがファイル選択のみ
- 直感的な操作が少ない

#### 改善案
- **キャラクターリストの並び替え**
  - ドラッグ&ドロップで順序変更
  - 視覚的なフィードバック（ドラッグ中のハイライト）
- **章の順序変更**
  - 章リストをドラッグ&ドロップで並び替え
- **画像のドラッグ&ドロップアップロード**
  - ファイルを直接ドロップしてアップロード
  - 複数ファイルの一括アップロード

#### 実装箇所
- `src/components/steps/CharacterStep.tsx` - ドラッグ&ドロップの追加
- `src/components/steps/ChapterStep.tsx` - 章の並び替え
- `src/components/ImageBoard.tsx` - ドロップゾーンの追加

#### 期待される効果
- 操作の直感性向上
- 作業効率の向上
- ユーザー体験の改善

---

### 8. 【中優先度】バックアップと復元機能の強化
**優先度**: ⭐⭐⭐ (中)  
**効果**: ⭐⭐⭐⭐ (高い)

#### 問題点
- 自動バックアップの設定が不明確
- バックアップの履歴管理がない
- 部分的な復元ができない

#### 改善案
- **自動バックアップ設定の明確化**
  - バックアップ頻度の設定（毎時間、毎日など）
  - バックアップ保存先の選択
  - バックアップ数の上限設定
- **バックアップ履歴の表示**
  - 過去のバックアップ一覧
  - バックアップ日時とサイズの表示
- **選択的復元機能**
  - プロジェクト全体の復元
  - 特定の章やキャラクターのみの復元
  - 復元前のプレビュー

#### 実装箇所
- `src/components/DataManager.tsx` - バックアップ機能の拡張
- `src/services/databaseService.ts` - バックアップロジックの追加

#### 期待される効果
- データ損失のリスク軽減
- ユーザーの安心感向上
- 誤操作からの回復が容易に

---

### 9. 【低優先度】パフォーマンス最適化の視覚化
**優先度**: ⭐⭐ (低)  
**効果**: ⭐⭐⭐ (中程度)

#### 問題点
- 大量のプロジェクトやデータがある場合のパフォーマンスが不明
- ローディング状態が一部の操作で不明確
- メモリ使用量などの情報が表示されない

#### 改善案
- **パフォーマンスインジケーター**
  - 開発者モードでメモリ使用量を表示
  - データベースサイズの表示
  - 最適化の提案
- **ローディング状態の改善**
  - スケルトンローディングの追加
  - 進捗バーの表示（AI生成時など）
  - キャンセル可能な操作の明示

#### 実装箇所
- `src/utils/performanceUtils.ts` - パフォーマンス監視の拡張
- 各コンポーネント - ローディング状態の統一

#### 期待される効果
- 大規模プロジェクトでの快適性向上
- ユーザーの不安軽減
- 問題の早期発見

---

### 10. 【低優先度】カスタマイズ性の向上
**優先度**: ⭐⭐ (低)  
**効果**: ⭐⭐⭐ (中程度)

#### 問題点
- UIのカスタマイズオプションが限定的
- テーマカラーの選択肢が少ない
- レイアウトのカスタマイズができない

#### 改善案
- **テーマカスタマイザー**
  - カラーパレットの選択
  - アクセントカラーの変更
  - フォントの選択
- **レイアウト設定**
  - サイドバーの位置（左/右）の選択
  - パネルの表示/非表示の設定
  - ワークスペースレイアウトの保存

#### 実装箇所
- 新規: `src/components/ThemeCustomizer.tsx`
- `src/App.tsx` - テーマ設定の拡張
- `src/components/Sidebar.tsx` - レイアウト設定の対応

#### 期待される効果
- ユーザーの好みに合わせたカスタマイズ
- 長時間使用時の快適性向上
- ユーザーの愛着度向上

---

## 実装優先順位のまとめ

### フェーズ1（最優先・即座に実装）
1. ワークフロー進捗の視覚的フィードバック強化
2. エラーハンドリングとフィードバックの改善

### フェーズ2（高優先度・短期間で実装）
3. キーボードショートカットの充実
4. モバイル/タブレット対応の改善

### フェーズ3（中優先度・中期で実装）
5. 検索とフィルタリング機能の強化
6. オンボーディングとチュートリアルの追加
7. ドラッグ&ドロップ機能の追加
8. バックアップと復元機能の強化

### フェーズ4（低優先度・長期で実装）
9. パフォーマンス最適化の視覚化
10. カスタマイズ性の向上

---

## 効果測定指標

各改善を実装後、以下の指標で効果を測定することを推奨します：

- **ユーザーエンゲージメント**: セッション時間、機能利用率
- **エラー率**: エラー発生頻度、サポート問い合わせ数
- **ユーザー満足度**: アンケート、レビュー評価
- **タスク完了率**: 各ステップの完了率、プロジェクト完成率
- **学習曲線**: 新規ユーザーの習熟時間

---

## 備考

- 各改善案は独立して実装可能ですが、関連する改善をまとめて実装することで相乗効果が期待できます
- ユーザーフィードバックを継続的に収集し、優先順位を調整することを推奨します
- アクセシビリティ（WCAG 2.1 AA準拠）を維持しながら改善を進めることが重要です

