# ユーザーガイド

AI Story Builderの基本的な使い方を説明します。

> **⚠️ 重要なご注意**
> 
> このアプリケーションはAI技術を活用した開発手法（AI協働開発）により作成されています。そのため、制作者が意図しない挙動や仕様が生じる可能性がございます。ご利用の際は、予期せぬ動作が発生する場合があることをご理解いただき、ご容赦ください。

## 📖 目次

- [アプリケーションの起動](#アプリケーションの起動)
- [プロジェクトの作成](#プロジェクトの作成)
- [キャラクター設定](#キャラクター設定)
- [プロット構築](#プロット構築)
- [あらすじ作成](#あらすじ作成)
- [章立て構成](#章立て構成)
- [執筆支援](#執筆支援)
- [データの保存・管理](#データの保存管理)
- [よくある質問](#よくある質問)

## アプリケーションの起動

### 1. ローカルLLMサーバーの起動（基本機能用）

**LM Studio を使用する場合:**
1. LM Studio を起動
2. モデルをダウンロード（Llama 3.1 8B推奨）
3. 「Local Server」タブで「Start Server」をクリック

**Ollama を使用する場合:**
```bash
ollama serve
```

### 2. クラウドAIの設定（高度な処理用）

高度な処理（草案執筆等）にはクラウドAIの使用を推奨します：

1. `.env.local` ファイルでAPIキーを設定
2. 使用したいクラウドAIのAPIキーを有効化

### 3. アプリケーションの起動

```bash
npm run dev
```

ブラウザで `http://localhost:5173` にアクセス

## プロジェクトの作成

### 1. 新しいプロジェクトを作成

1. ホーム画面で「新しいプロジェクト」をクリック
2. プロジェクト情報を入力：
   - **プロジェクト名**: 作品のタイトル
   - **テーマ**: 作品のテーマ（例：友情、恋愛、冒険）
   - **メインジャンル**: ファンタジー、SF、ミステリー等
   - **サブジャンル**: ロマンス、アクション、コメディ等
   - **ターゲット読者**: 10代、20代、30代以上、全年齢
   - **想定文字数**: 短編、中編、長編

### 2. プロジェクトの管理

- **プロジェクト一覧**: ホーム画面で作成済みプロジェクトを確認
- **プロジェクト編集**: プロジェクト名や設定を変更
- **プロジェクト削除**: 不要なプロジェクトを削除

## キャラクター設定

### 1. キャラクターの作成

1. キャラクターステップに移動
2. 「新しいキャラクター」をクリック
3. 基本情報を入力：
   - **名前**: キャラクターの名前
   - **役割**: 主人公、ライバル、サポーター等
   - **年齢**: キャラクターの年齢
   - **性別**: 男性、女性、その他

### 2. AI支援キャラクター生成

1. 「AI支援で生成」をクリック
2. 生成条件を設定：
   - **テーマ**: プロジェクトのテーマ
   - **ジャンル**: メインジャンルとサブジャンル
   - **ターゲット読者**: 読者層
3. 「生成」をクリック
4. 生成されたキャラクターを確認・選択

### 3. キャラクターの詳細設定

- **外見**: 髪色、目色、身長、体型等
- **性格**: 主要な性格特徴
- **背景**: 出身、職業、過去の経験
- **関係性**: 他のキャラクターとの関係

### 4. キャラクターの管理

- **キャラクター一覧**: 作成済みキャラクターを確認
- **キャラクター編集**: 詳細情報を修正
- **キャラクター削除**: 不要なキャラクターを削除

## プロット構築

### 1. 基本設定

1. プロットステップ1に移動
2. 基本情報を設定：
   - **主人公の目標**: 物語の目的
   - **主要な障害**: 主人公が直面する問題
   - **舞台設定**: 物語の舞台となる場所・時代

### 2. 物語構造の選択

1. プロットステップ2に移動
2. 構造を選択：
   - **起承転結**: 伝統的な4部構成
   - **三幕構成**: ハリウッド式3部構成
   - **四幕構成**: より詳細な4部構成

### 3. フック要素の設定

- **冒頭の引きつけ方**: 読者の興味を引く方法
- **謎や疑問**: 物語の核心となる謎
- **独特な設定**: 物語を特徴づける要素

## あらすじ作成

### 1. あらすじの生成

1. あらすじステップに移動
2. 「AI生成」をクリック
3. 生成されたあらすじを確認
4. 必要に応じて手動で調整

### 2. あらすじの改善

- **改善ボタン**: AIがあらすじをより魅力的に改善
- **手動編集**: 直接テキストを編集
- **長さ調整**: 適切な文字数に調整

## 章立て構成

### 1. 章構成の生成

1. 章立てステップに移動
2. 「AI生成」をクリック
3. 生成された章構成を確認
4. 各章の概要を確認

### 2. 章構成の調整

- **章の追加**: 新しい章を追加
- **章の削除**: 不要な章を削除
- **章の順序変更**: 章の順序を調整
- **章の詳細編集**: 各章の概要を編集

## 執筆支援

### 1. 章の執筆

1. 執筆ステップに移動
2. 執筆したい章を選択
3. 「AI支援で執筆」をクリック
4. 生成された文章を確認・編集

**AIの使い分け:**
- **ローカルLLM**: 基本的な執筆支援、アイデア出し
- **クラウドAI**: 高度な草案生成、詳細な文章作成（推奨）

### 2. 執筆の継続

- **続きを書く**: 既存の文章の続きを生成
- **対話シーン**: キャラクター間の対話を生成
- **シーン変更**: 新しいシーンを追加

### 3. 文体の調整

- **文体設定**: フォーマル、カジュアル等
- **語調調整**: 明るい、暗い、ミステリアス等
- **一貫性維持**: 物語全体の文体統一

## データの保存・管理

### 1. 自動保存

- 作業内容は自動的に保存されます
- ブラウザを閉じてもデータは保持されます

### 2. データのエクスポート

- **テキスト形式**: プレーンテキストで出力
- **Markdown形式**: Markdown形式で出力
- **PDF形式**: PDFファイルで出力

### 3. データのインポート

- 既存のプロジェクトデータを読み込み
- 他のツールからの移行

## よくある質問

### Q: AIが応答しない場合はどうすればいいですか？

A: 以下の点を確認してください：
1. **ローカルLLMの場合**: LM StudioのAPIサーバーが起動しているか
2. **クラウドAIの場合**: APIキーが正しく設定されているか、インターネット接続があるか
3. プロンプトが適切か
4. モデルの性能

### Q: どのAIを使えばいいですか？

A: 用途に応じて使い分けてください：
- **ローカルLLM**: キャラクター生成、プロット構築、基本的な執筆支援
- **クラウドAI**: 高度な草案生成、詳細な文章作成（推奨）

### Q: 生成された内容が期待と違う場合は？

A: 以下の方法を試してください：
1. プロンプトをより具体的に記述
2. 温度設定を調整（0.7-0.9推奨）
3. より高性能なモデルを使用（クラウドAI推奨）
4. 手動で内容を調整

### Q: データが消えてしまった場合は？

A: 以下の点を確認してください：
1. ブラウザのローカルストレージを確認
2. 別のブラウザでデータが残っているか確認
3. バックアップデータがあるか確認

### Q: 複数のプロジェクトを同時に管理できますか？

A: はい、複数のプロジェクトを同時に作成・管理できます。ホーム画面でプロジェクトを切り替えて作業できます。

### Q: オフラインで使用できますか？

A: ローカルLLMを使用する場合、基本機能は完全にオフラインで使用できます。高度な処理（草案執筆等）にはクラウドAIの使用を推奨するため、インターネット接続が必要です。

---

**サポートが必要な場合は、[GitHub Issues](https://github.com/bookendless/aistorybuilder/issues)でお気軽にお問い合わせください。**
