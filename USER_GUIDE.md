# ユーザーガイド

## はじめに
AiStoryBuilderは、小説家や脚本家のために設計された、AI搭載の創作支援ツールです。アイデア出しから執筆、推敲まで、創作のあらゆるプロセスを強力にサポートします。

## クイックスタート

### プロジェクトの作成
ホーム画面の「新規プロジェクト」ボタンをクリックし、タイトルと概要を入力してプロジェクトを作成します。

### AI設定
画面右上の設定アイコンからAIの設定を行います。
- **ローカル (Ollama)**: プライバシーを重視し、コストを抑えたい場合に推奨。
- **クラウド (OpenAI/Claude/Gemini)**: 高度な推論能力が必要な場合に推奨。APIキーの設定が必要です。

## ステップバイステップガイド

### 1. アイデア (Idea)
キーワードやジャンルを入力して、AIと一緒に物語の種を探します。

### 2. プロット (Plot)
「Save the Cat」や「起承転結」などのテンプレートを選択し、物語の構成を練ります。AIが展開を提案することも可能です。

### 3. キャラクター (Character)
登場人物のプロフィール（名前、役割、性格、背景）を詳細に設定します。
- **AI生成**: 簡単な特徴から詳細なプロフィールを生成します。
- **画像分析 (クラウド限定)**: キャラクター画像をアップロードすると、AIが外見や雰囲気を分析して描写を生成します（OpenAI/Claude/Gemini利用時のみ）。
- **関係性**: キャラクター間の関係を定義します。

### 4. 世界観 (World)
物語の舞台となる世界の設定（地理、魔法、文化など）を管理します。

### 5. 執筆 (Draft)
集中して執筆できるエディタ機能です。
- **表示設定**:
    - **縦書きモード**: 日本語の小説執筆に最適な縦書き表示に対応。
    - **Zenモード**: 余計な要素を隠して執筆に没頭できます。
    - **カスタマイズ**: フォントサイズ、行間、行番号の表示を調整可能。
- **AI執筆ツール**:
    - **続きを書く**: 文脈を読み取り、続きの文章を生成します。
    - **リライト**: 選択した文章を別の表現に書き換えます。
    - **トーン変更**: シリアス、コメディなど、文章の雰囲気を変更します。
    - **要約**: 章の内容を要約します。
- **履歴管理**:
    - 自動保存機能により、執筆履歴が残ります。
    - 過去のバージョンとの差分（Diff）を表示して比較できます。

## ツールと機能 (サイドバー)

画面左側のサイドバーから、創作に役立つツールにアクセスできます。

### イメージボード (Image Board)
キャラクターや舞台の参考画像を管理します。カテゴリ分けや拡大表示が可能です。

### 用語集 (Glossary)
作品固有の用語を管理します。
- **AI抽出**: 本文から用語集に追加すべき単語をAIが自動でピックアップします。

### 人物相関図 (Relationship Diagram)
キャラクター間の関係を視覚的に表示します。
- **AI推論**: ストーリーの内容から、キャラクター間の関係性をAIが推測して提案します。

### タイムライン (Timeline)
出来事を時系列で管理します。
- **AI提案**: プロットの内容から、タイムラインに追加すべきイベントをAIが提案します。

### 世界設定 (World Settings)
世界観の詳細な設定をデータベース化して管理します。

### メモ (Memo)
アイデア、タスク、ノートをタブで分けて記録できるクイックメモ機能です。

## AIアシスタント
画面右下のロボットアイコンから、チャット形式でAIに相談できます。
- **コンテキスト認識**: プロジェクトの設定（キャラ、プロットなど）を把握した上で回答します。
- **クイックアクション**:
    - **整合性チェック**: 設定の矛盾がないかチェックします。
    - **構造分析**: 物語の構成を分析し、改善点を提案します。
    - **用語提案**: 用語集への追加候補を提案します。

## 高度な機能

### カスタムプロンプト
自分だけのAI指示（プロンプト）を作成・保存して、執筆時に呼び出すことができます。

### インポート/エクスポート
プロジェクトデータのバックアップや、他のツールへの移行のためにデータをエクスポートできます。
